<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UVS Friend</title>

    <!-- Bootrstrap 4 -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
    <!-- Custom CSS -->
    <link rel="stylesheet" href="/styles.css" />

    <!-- Angular.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.5/angular.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.5/i18n/angular-locale_uk-ua.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.5/angular-sanitize.js"></script>
</head>

<body>
    <style>
        .friend-0-preview {
            width: 70px;
            height: 70px;
        }

        .friend-0-hovered {
            width: 100px;
            height: 100px;
        }

        .friend-1-preview {
            width: 100px;
            height: 100px;
        }

        .friend-1-hovered {
            width: 140px;
            height: 140px;
        }

        .friend-2-preview {
            width: 130px;
            height: 130px;
        }

        .friend-2-hovered {
            width: 150px;
            height: 150px;
        }

        /* for absolute tile to start right from the top left of preview */

        .card-body {
            padding: 0;
        }

        .friend-card {
            position: relative;
            top: 0;
            left: 0;
        }

        .friend-card-body {
            position: absolute;
            background-color: #ddd;
            border: 1px solid rgba(0,0,0,.125);
            border-radius: .25rem;
            height: auto;
            z-index: 100;
        }
    </style>
    <div ng-app="app" style="min-width: 350px;">
        <br />
        <!-- To create space between Tilda blocks -->

        <div class="container" ng-controller="FriendsController" ng-cloak>

            <div ng-repeat="donationLevel in donationLevels" class="row">                
                <div class="col-12">
                    <div ng-repeat="friend in getFriendsForDonationLevel(donationLevel)" style="display: inline-block">
                        <div class="card friend-card" 
                            ng-init="infoIsVisible=false" ng-mouseenter="infoIsVisible=true" ng-mouseleave="infoIsVisible=false" ng-touchend="infoIsVisible=!infoIsVisible">
                            <div>
                                <img class="card-img-top" ng-class="friend.getPreviewClass()" ng-src="{{friend.imageUrl}}" />
                            </div>
                            <div class="card-body friend-card-body" ng-show="infoIsVisible" ng-class="friend.getHoveredClass()">
                                <img class="card-img-top" ng-src="{{friend.imageUrl}}" />
                                <h5 class="card-title">{{friend.name}}</h5>
                                <p class="card-text">{{friend.description}}</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-12">
                    <br />
                </div>
            </div>
        </div>
    </div>

    <!-- jQuery -->
    <!-- Tilda has already loaded jQuery, don't add to HTML! -->
    <script src="https://code.jquery.com/jquery-3.3.1.js"></script>

    <!-- Custom js -->
    <script src="/js/friends.ng.js" type="module"></script>
</body>

</html>